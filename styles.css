/* --- VARIABLES & RESET --- */
:root {
    --bg: #09090b;
    --surface: #121214;
    --glass: #ffffff0d;
    --accent: #00E676; /* Neon Green - Основний акцент */
    --accent-hover: #00C853;
    --text: #ffffff;
    --muted: #9E9E9E;
    --border: #ffffff1a;

    /* --- ЗМІННІ ДЛЯ КОЛЬОРІВ БРЕНДІВ --- */
    --color-new-holland: #FFD700; /* Жовтий */
    --color-case: #CC0000; /* Червоний */
    --color-john-deere: #38761d; /* Темно-зелений */
    /* ДОДАНО: Кольори для фільтрів типу */
    --color-type-combine: #153A6A; /* Темно-синій для Комбайнів */
    --color-type-all: #007bff; /* Синій для "Всі типи" */
}
* { 
    box-sizing: border-box; 
    margin: 0; 
    padding: 0; 
}

/* ------------------------------------------------ */
/* ГЛОБАЛЬНІ СТИЛІ ТА БАЗОВІ НАЛАШТУВАННЯ */
/* ------------------------------------------------ */
html {
    scroll-behavior: smooth; 
}

body {
    font-family: 'Inter', sans-serif;
    background-color: var(--bg);
    color: var(--text);
    line-height: 1.6;
    overflow-x: hidden; 
}
a { 
    text-decoration: none; 
    color: inherit; 
    transition: 0.3s; 
}
ul { 
    list-style: none; 
}
section { 
    padding: 80px 0; 
}
.container { 
    width: 90%; 
    max-width: 1200px; 
    margin: 0 auto; 
}
.glass { 
    background: var(--glass); 
    border: 1px solid var(--border); 
    backdrop-filter: blur(10px); 
    border-radius: 16px; 
}

/* --- HEADER & NAV --- */
.header {
    position: fixed; 
    top: 0; 
    width: 100%; 
    z-index: 100;
    background: rgba(9, 9, 11, 0.85);
    backdrop-filter: blur(12px);
    border-bottom: 1px solid var(--border);
    padding: 15px 0;
    
    opacity: 0;
    transform: translateY(-100%);
    animation: headerDrop 0.5s ease-out 0.8s forwards; 
}
@keyframes headerDrop {
    to { 
        opacity: 1; 
        transform: translateY(0); 
    }
}
.header-inner { 
    display: flex; 
    justify-content: space-between; 
    align-items: center; 
}
.brand { 
    font-size: 24px; 
    font-weight: 800; 
    letter-spacing: -1px; 
    color: #fff; 
}
/* ОНОВЛЕНО: Стилізація неонової іконки/емодзі в логотипі */
.brand .neon { 
    color: var(--accent); 
    text-shadow: 0 0 10px rgba(0, 230, 118, 0.8); /* Більш яскравий неон */
    display: inline-block;
    margin-right: 5px;
    font-size: 1.2em; 
}

.nav { 
    display: flex; 
    gap: 25px; 
}
.nav a { 
    font-size: 14px; 
    font-weight: 600; 
    color: var(--muted); 
}
.nav a:hover { 
    color: var(--accent); 
}

.controls { 
    display: flex; 
    gap: 15px; 
    align-items: center; 
}

/* --- SEARCH BAR & BUTTONS --- */
.search-wrap {
    display: flex; 
    align-items: center;
    /* Виправлено: Стилізація пошукового рядка (шапка) */
    background: rgba(18, 18, 20, 0.6);
    border: 1px solid var(--border);
    border-radius: 50px;
    padding: 5px 15px;
    transition: 0.3s;
}
.search-wrap:focus-within { 
    border-color: var(--accent); 
    box-shadow: 0 0 10px rgba(0, 230, 118, 0.3);
}
.search-wrap input {
    background: transparent; 
    border: none; 
    outline: none; 
    color: #fff; 
    width: 150px; 
    font-size: 14px;
}
#searchBtn { 
    background: transparent; 
    border: none; 
    cursor: pointer; 
    font-size: 16px; 
    /* Змінено для кращого вигляду лупи на темному фоні */
    color: var(--muted); 
    opacity: 1; 
}
#searchBtn:hover {
    color: var(--accent);
}

.btn { 
    padding: 14px 28px; 
    border-radius: 8px; 
    font-weight: 600; 
    cursor: pointer; 
    display: inline-block; 
    transition: 0.3s; 
    border: none; 
}

/* СТАНДАРТНА ОСНОВНА КНОПКА (використовує --accent) */
.btn-primary { 
    background: var(--accent); 
    color: #000; 
    box-shadow: 0 10px 20px rgba(0, 230, 118, 0.2); 
}
.btn-primary:hover { 
    background: var(--accent-hover); 
    transform: translateY(-2px); 
    box-shadow: 0 15px 30px rgba(0, 230, 118, 0.3); 
}

/* КНОПКА НЕБЕЗПЕКИ */
.btn-danger {
    background: #CC0000;
    color: #fff;
    box-shadow: 0 5px 15px rgba(204, 0, 0, 0.4);
}
.btn-danger:hover {
    background: #A30000;
    box-shadow: 0 8px 20px rgba(204, 0, 0, 0.6);
    transform: translateY(-1px);
}

/* --- КЛАСИ-МОДИФІКАТОРИ ДЛЯ КОЛЬОРІВ БРЕНДІВ (КНОПКИ ТА БЕЙДЖІ) --- */
/* Стилі брендових класів для кнопок, бейджів, опцій */
.btn-nh, .badge-nh, .modal-card .product-details .type-badge.brand-nh, 
.brand-nh-option {
    background: var(--color-new-holland) !important;
    color: var(--bg) !important;
    box-shadow: 0 10px 20px rgba(255, 215, 0, 0.4);
    border: none !important;
}
.btn-nh:hover { background: #FFC700 !important; box-shadow: 0 15px 30px rgba(255, 215, 0, 0.6); }

.btn-case, .badge-case, .modal-card .product-details .type-badge.brand-case,
.brand-case-option {
    background: var(--color-case) !important;
    color: var(--text) !important;
    box-shadow: 0 10px 20px rgba(204, 0, 0, 0.4);
    border: none !important;
}
.btn-case:hover { background: #A30000 !important; box-shadow: 0 15px 30px rgba(204, 0, 0, 0.6); }

.btn-jd, .badge-jd, .modal-card .product-details .type-badge.brand-jd,
.brand-jd-option {
    background: var(--color-john-deere) !important;
    color: var(--text) !important;
    box-shadow: 0 10px 20px rgba(56, 118, 29, 0.4);
    border: none !important;
}
.btn-jd:hover { background: #2D6117 !important; box-shadow: 0 15px 30px rgba(56, 118, 29, 0.6); }

/* ********************************************* */
/* КЛАСИ: Універсальне обведення за брендом (для використання в HTML) */
/* ********************************************* */
.brand-outline-nh { 
    border: 2px solid var(--color-new-holland) !important;
    box-shadow: 0 0 10px rgba(255, 215, 0, 0.6) !important;
}
.brand-outline-case { 
    border: 2px solid var(--color-case) !important;
    box-shadow: 0 0 10px rgba(204, 0, 0, 0.6) !important;
}
.brand-outline-jd { 
    border: 2px solid var(--color-john-deere) !important;
    box-shadow: 0 0 10px rgba(56, 118, 29, 0.6) !important;
}
/* ********************************************* */

/* Загальні стилі кнопок, що не є brand-specific */
.btn-ghost { 
    background: rgba(255,255,255,0.1); 
    color: #fff; 
    backdrop-filter: blur(5px); 
}
.btn-ghost:hover { 
    background: rgba(255,255,255,0.2); 
}
.btn-outline {
    background: transparent; 
    border: 1px solid var(--border);
    color: #fff; 
    padding: 8px 16px; 
    border-radius: 50px; 
    cursor: pointer; 
    font-size: 13px; 
    transition: 0.3s;
}
.btn-outline:hover { 
    border-color: var(--accent); 
    color: var(--accent); 
}
.btn-sm { 
    padding: 8px 16px; 
    font-size: 13px; 
    border-radius: 6px; 
}
.btn-lg {
    padding: 12px 28px;
    font-size: 16px;
    border-radius: 8px;
}
.full-width-btn {
    width: 100%;
}

/* --- HERO SECTION --- */
.hero {
    height: 100vh; 
    min-height: 600px; 
    display: flex; 
    align-items: center; 
    justify-content: center; 
    position: relative;
    background: url('https://images.unsplash.com/photo-1625246333195-78d9c38ad449?q=80&w=2070&auto=format&fit=crop') no-repeat center center/cover;
    background-attachment: fixed; 
}
.hero-overlay { 
    position: absolute; 
    inset: 0; 
    background: linear-gradient(0deg, var(--bg) 0%, rgba(0,0,0,0.6) 100%); 
    z-index: 1; 
}
.hero-content { 
    position: relative; 
    z-index: 2; 
    text-align: center; 
    max-width: 800px; 
}

/* АНІМАЦІЇ ЕЛЕМЕНТІВ HERO */
.fade-up { 
    animation: fadeUp 0.8s ease-out forwards; 
    opacity: 0; 
    transform: translateY(20px); 
}
.delay-1 { animation-delay: 0.2s; }
.delay-2 { animation-delay: 0.4s; }
.delay-3 { animation-delay: 0.6s; }
@keyframes fadeUp { 
    to { 
        opacity: 1; 
        transform: translateY(0); 
    } 
}

.badge-hero { 
    background: var(--accent); 
    color: #000; 
    padding: 5px 12px; 
    border-radius: 20px; 
    font-weight: 700; 
    font-size: 12px; 
    text-transform: uppercase; 
    margin-bottom: 20px; 
    display: inline-block; 
}
.title { 
    font-size: 56px; 
    font-weight: 800; 
    line-height: 1.1; 
    margin-bottom: 20px; 
    color: #fff; 
}
.title .accent { 
    color: var(--accent); 
}
.subtitle { 
    font-size: 18px; 
    color: #ccc; 
    margin-bottom: 30px; 
}
.hero-buttons { 
    display: flex; 
    gap: 15px; 
    justify-content: center; 
}

/* --- STATS BAR --- */
.stats-bar { 
    border-bottom: 1px solid var(--border); 
    padding: 30px 0; 
    background: var(--surface);
    opacity: 0;
    animation: fadeIn 0.5s ease-out 1.2s forwards;
}
@keyframes fadeIn { 
    to { 
        opacity: 1; 
    } 
}

.stats-grid { 
    display: grid; 
    grid-template-columns: repeat(4, 1fr); 
    gap: 20px; 
    text-align: center; 
}
.stat-item h3 { 
    font-size: 32px; 
    color: var(--accent); 
    margin-bottom: 5px; 
}
.stat-item p { 
    font-size: 14px; 
    color: var(--muted); 
}

/* ---------------------------------------------------------------- */
/* СКРОЛ-АНІМАЦІЇ (Scroll Reveal) */
/* ---------------------------------------------------------------- */
[data-scroll] {
    opacity: 0;
    transition: opacity 0.6s cubic-bezier(0.25, 0.8, 0.25, 1), transform 0.6s cubic-bezier(0.25, 0.8, 0.25, 1);
}
[data-scroll="fade-up"] {
    transform: translateY(40px);
}
[data-scroll="fade-in"] {
    transform: none; 
}
[data-scroll].animate {
    opacity: 1;
    transform: translateY(0) scale(1);
}
[data-scroll][data-scroll-delay="0.1"].animate { transition-delay: 0.1s; }
[data-scroll][data-scroll-delay="0.2"].animate { transition-delay: 0.2s; }
[data-scroll][data-scroll-delay="0.3"].animate { transition-delay: 0.3s; }
[data-scroll][data-scroll-delay="0.4"].animate { transition-delay: 0.4s; }


/* --- CATALOG & FILTERS --- */
.section-head { 
    margin-bottom: 40px; 
    display: flex; 
    flex-direction: column; 
    align-items: center; 
    text-align: center; 
}
.section-desc { 
    color: var(--muted); 
    max-width: 500px; 
    margin-top: 10px; 
}

/* ДИЗАЙН ВІКНА ФІЛЬТРІВ */
.filter-wrapper {
    background: rgba(18, 18, 20, 0.7); 
    backdrop-filter: blur(8px); 
    border-radius: 20px; 
    padding: 30px 40px; 
    margin: 30px auto 30px auto; 
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
    display: flex;
    flex-wrap: wrap;
    gap: 25px;
    align-items: center;
    justify-content: center;
    max-width: 950px;
    border: 2px solid var(--accent);
    transition: all 0.3s ease-in-out;
}
.filter-wrapper:hover {
    box-shadow: 0 12px 40px rgba(0, 230, 118, 0.4);
}
.filter-group label { 
    color: var(--text); 
    font-size: 1.15em; 
    font-weight: 600; 
    margin-right: 8px; 
}
.filter-group select {
    background-color: rgba(0, 0, 0, 0.6); 
    color: var(--text); 
    /* Виправлено: Неонова обводка селектів */
    border: 1px solid rgba(0, 230, 118, 0.7); 
    border-radius: 10px; 
    padding: 12px 18px; 
    font-size: 1.05em; 
    min-width: 160px; 
    cursor: pointer;
    appearance: none; 
    -webkit-appearance: none; 
    -moz-appearance: none; 
    transition: all 0.2s ease-in-out;
    /* Виправлено: Колір стрілки */
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%2300E676'%3E%3Cpath d='M7 10l5 5 5-5z'/%3E%3C/svg%3E");
    background-repeat: no-repeat; 
    background-position: right 10px center; 
    background-size: 24px;
}
.filter-group select:hover { 
    border-color: var(--accent-hover); 
    box-shadow: 0 0 10px rgba(0, 230, 118, 0.5); 
}

/* !!! Стилізація опцій (Option) - ТЕПЕР ВКЛЮЧАЄ ТИПИ !!! */
.filter-group select option {
    background-color: #1a1a1a; /* Темний фон для всіх опцій */
    color: var(--text);
}
/* Стилі для опцій фільтрації по БРЕНДУ (використовує фірмові кольори) */
.brand-jd-option { background-color: var(--color-john-deere) !important; color: #fff !important; }
.brand-nh-option { background-color: var(--color-new-holland) !important; color: #000 !important; }
.brand-case-option { background-color: var(--color-case) !important; color: #fff !important; }

/* *** Стилі для опцій фільтрації по ТИПУ *** */
.type-all-option { 
    background-color: var(--color-type-all) !important; 
    color: #fff !important; 
}
.type-tractor-option { 
    background-color: var(--color-new-holland) !important; /* Жовтий */
    color: #000 !important; 
}
.type-combine-option { 
    background-color: var(--color-type-combine) !important; /* Темно-синій */
    color: #fff !important; 
}
/* ************************************************* */

/* Кнопка Скинути */
.btn-refresh {
    background: none; 
    border: none;
    color: var(--accent); 
    font-size: 1.15em;
    font-weight: bold;
    cursor: pointer;
    padding: 12px 20px;
    border-radius: 10px;
    transition: all 0.2s ease-in-out;
    text-shadow: 0 0 5px rgba(0, 230, 118, 0.4);
    margin-left: 0;
}
.btn-refresh:hover {
    background-color: rgba(0, 230, 118, 0.15);
    color: var(--accent);
    text-shadow: 0 0 8px rgba(0, 230, 118, 0.6);
}
.btn-refresh:active,
.btn-refresh:focus { 
    outline: none;
    color: var(--accent-hover);
    text-shadow: 0 0 10px rgba(0, 230, 118, 0.8);
    transform: scale(0.95);
}

/* Grid & Card Styles (Динамічний hover) */
.grid { 
    display: grid; 
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); 
    gap: 30px; 
}
.card {
    position: relative; 
    display: flex; 
    flex-direction: column;
    background: var(--surface); 
    border-radius: 16px; 
    overflow: hidden; 
    border: 1px solid var(--border);
    transition: 0.3s; 
}
.product-card {
    transition: transform 0.35s cubic-bezier(0.25, 0.8, 0.25, 1), 
                        box-shadow 0.35s ease-in-out,
                        border 0.35s ease,
                        opacity 0.6s, transform 0.6s;
    border: 1px solid var(--border);
    border-radius: 16px; 
    opacity: 0;
    transform: translateY(30px);
}
.product-card.animate {
    opacity: 1;
    transform: translateY(0);
}
/* Видаляємо універсальний зелений hover для обведення/тіні */
.product-card:hover {
    transform: translateY(-10px) scale(1.015);
}

/* *** ПОЧАТОК ЗМІН: Динамічні стилі обведення при наведенні *** */

/* 1. JOHN DEERE (ЗЕЛЕНИЙ) */
.product-card[data-brand="John Deere"]:hover {
    box-shadow: 0 18px 40px rgba(56, 118, 29, 0.35); /* #38761d */
    border: 1px solid var(--color-john-deere);
}

/* 2. NEW HOLLAND (ЖОВТИЙ) */
.product-card[data-brand="New Holland"]:hover {
    box-shadow: 0 18px 40px rgba(255, 215, 0, 0.35); /* #FFD700 */
    border: 1px solid var(--color-new-holland);
}

/* 3. CASE (ЧЕРВОНИЙ) */
.product-card[data-brand="CASE"]:hover {
    box-shadow: 0 18px 40px rgba(204, 0, 0, 0.35); /* #CC0000 */
    border: 1px solid var(--color-case);
}
/* *** КІНЕЦЬ ЗМІН: Динамічні стилі обведення при наведенні *** */

.product-card:hover .card-img-wrap img {
    transform: scale(1.03); 
}
.card-img-wrap { 
    height: 220px; 
    position: relative; 
    overflow: hidden; 
    background: #222; 
}
.card-img-wrap img { 
    width: 100%; 
    height: 100%; 
    object-fit: cover; 
    transition: 0.5s; 
}
/* ОНОВЛЕННЯ: Базовий стиль бейджа (з нейтральною обводкою) */
.badge { 
    position: absolute; 
    top: 15px; 
    left: 15px; 
    background: rgba(0,0,0,0.7); 
    color: #fff; 
    padding: 4px 10px; 
    border-radius: 4px; 
    border: 1px solid var(--border); /* Використовуємо нейтральний border за замовчуванням */
    z-index: 10;
}
/* ВИПРАВЛЕНО: Обведення бейджів фірмовим кольором (ВИСОКА СПЕЦИФІЧНІСТЬ) */
.card-img-wrap .badge.brand-nh {
    border-color: var(--color-new-holland) !important;
    box-shadow: 0 0 5px rgba(255, 215, 0, 0.6) !important;
}
.card-img-wrap .badge.brand-case {
    border-color: var(--color-case) !important;
    box-shadow: 0 0 5px rgba(204, 0, 0, 0.6) !important;
}
.card-img-wrap .badge.brand-jd {
    border-color: var(--color-john-deere) !important;
    box-shadow: 0 0 5px rgba(56, 118, 29, 0.6) !important;
}

.card-body { 
    padding: 20px; 
    flex: 1; 
    display: flex; 
    flex-direction: column; 
}
.card h4 { 
    font-size: 18px; 
    margin-bottom: 5px; 
}
.card-meta { 
    font-size: 13px; 
    color: var(--muted); 
    margin-bottom: 15px; 
}
.card-desc { 
    font-size: 14px; 
    color: #ccc; 
    margin-bottom: 20px; 
    flex: 1; 
    line-height: 1.5; 
}
.card-footer { 
    display: flex; 
    justify-content: space-between; 
    align-items: center; 
    margin-top: auto; 
}
.product-price {
    font-size: 1.8rem; 
    font-weight: 900; 
    color: var(--accent); 
    text-shadow: 0 0 10px rgba(0, 230, 118, 0.7); 
}

/* --- FEATURES & REVIEWS (Без змін) --- */
.alt-bg { 
    background: var(--surface); 
}
.features-grid { 
    display: grid; 
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); 
    gap: 30px; 
    margin-top: 40px; 
}
.feature-card { 
    text-align: center; 
    padding: 30px; 
    background: var(--bg); 
    border-radius: 16px; 
    border: 1px solid var(--border); 
    transition: 0.3s; 
}
.feature-card:hover { 
    border-color: var(--accent); 
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0, 230, 118, 0.1);
}
.feature-card .icon { 
    font-size: 40px; 
    margin-bottom: 20px; 
}
.reviews-grid { 
    display: grid; 
    grid-template-columns: 1fr 1fr; 
    gap: 30px; 
    margin-top: 40px; 
}
.review-card { 
    padding: 30px; 
}
.quote { 
    font-size: 18px; 
    font-style: italic; 
    color: #ddd; 
    margin-bottom: 20px; 
}
.author strong { 
    display: block; 
    color: var(--accent); 
}
.author span { 
    font-size: 12px; 
    color: var(--muted); 
}

/* --- FAQ & CONTACT --- */
.faq-wrap details { 
    margin-bottom: 15px; 
    padding: 15px 20px; 
    cursor: pointer; 
    transition: 0.3s; 
}
.faq-wrap details[open] { 
    border-color: var(--accent); 
    background: rgba(0, 230, 118, 0.03); 
}
.faq-wrap summary { 
    font-weight: 600; 
    list-style: none; 
    outline: none; 
}
.faq-wrap p { 
    margin-top: 10px; 
    color: #ccc; 
}
.contact-wrapper { 
    display: flex; 
    overflow: hidden; 
}
.contact-info { 
    flex: 1; 
    padding: 40px; 
    background: rgba(0, 230, 118, 0.05); 
}
.contact-list { 
    margin-top: 30px; 
}
.contact-list li { 
    margin-bottom: 15px; 
    font-size: 16px; 
}
.contact-form { 
    flex: 1.5; 
    padding: 40px; 
}
.form-group { 
    margin-bottom: 20px; 
}
.form-group input, .form-group textarea { 
    width: 100%; 
    background: rgba(0,0,0,0.3); 
    border: 1px solid var(--border); 
    padding: 15px; 
    border-radius: 8px; 
    color: #fff; 
    outline: none; 
    transition: 0.3s;
}
.form-group input:focus, .form-group textarea:focus { 
    border-color: var(--accent); 
    box-shadow: 0 0 10px rgba(0, 230, 118, 0.2);
}
.full-width-btn { 
    width: 100%; 
    margin-top: 10px; 
}

/* --- FOOTER --- */
.site-footer { 
    background: #050507; 
    padding: 60px 0 20px; 
    border-top: 1px solid var(--border); 
    font-size: 14px; 
}
.footer-grid { 
    display: grid; 
    grid-template-columns: 1.5fr 1fr 1fr; 
    gap: 40px; 
    margin-bottom: 40px; 
}
.footer-desc { 
    color: var(--muted); 
    margin-top: 15px; 
    max-width: 300px; 
}
.footer-grid h4 { 
    color: #fff; 
    margin-bottom: 20px; 
    font-size: 16px; 
}
.footer-grid a { 
    display: block; 
    color: var(--muted); 
    margin-bottom: 10px; 
}
.footer-grid a:hover { 
    color: var(--accent); 
}
/* Виправлено: Стилізація форми підписки */
.footer-sub { 
    display: flex; 
    align-items: center; 
    /* Стилі як у search-wrap */
    background: rgba(18, 18, 20, 0.6);
    border: 1px solid var(--border);
    border-radius: 50px; /* Кругліший, як на знімку */
    padding: 5px 5px 5px 15px; 
    margin-top: 20px; 
    transition: 0.3s; 
    max-width: 300px; 
}
.footer-sub:focus-within { 
    border-color: var(--accent); 
    box-shadow: 0 0 10px rgba(0, 230, 118, 0.3); 
}
.footer-sub input { 
    flex: 1; 
    background: transparent; 
    border: none; 
    color: #fff; 
    font-size: 14px; 
    padding: 8px 0; 
    outline: none; 
}
.footer-sub button { 
    background: var(--accent); 
    color: #000; 
    border: none; 
    width: 36px; 
    height: 36px; 
    border-radius: 50%; /* Кругла кнопка стрілки */
    display: flex; 
    align-items: center; 
    justify-content: center; 
    font-size: 20px; 
    cursor: pointer; 
    transition: 0.3s; 
    padding: 0; 
    line-height: 1;
}
.footer-sub button:hover {
    background: var(--accent-hover);
}
.footer-bottom { 
    text-align: center; 
    border-top: 1px solid var(--border); 
    padding-top: 20px; 
    color: var(--muted); 
}

/* --- MODAL (ФІКС СКРОЛУ) --- */
.modal { 
    position: fixed; 
    inset: 0; 
    z-index: 200; 
    display: flex; 
    
    /* ***** ГОЛОВНИЙ ФІКС СКРОЛУ: ***** */
    align-items: flex-start; /* Вирівнюємо вміст догори, щоб дозволити прокрутку вгору */
    justify-content: center; 
    /* ********************************************* */
    
    opacity: 0; 
    transition: opacity 0.3s ease-out, visibility 0.3s;
    visibility: hidden; 
    
    overflow-y: auto; /* Основний скрол-контейнер */
    -webkit-overflow-scrolling: touch;
    padding: 20px 0; 
}
.modal:not(.hidden) { 
    opacity: 1;
    visibility: visible;
}
.modal-backdrop { 
    position: absolute; 
    inset: 0; 
    background: rgba(0,0,0,0.8); 
    backdrop-filter: blur(8px);
    z-index: -1; 
}
/* Загальний стиль для великих модалок (Product) */
.modal-card { 
    position: relative; 
    z-index: 201; 
    width: 95%; 
    max-width: 1000px; 
    background: var(--surface); 
    border-radius: 20px; 
    padding: 0; 
    border: 2px solid var(--accent-hover); 
    box-shadow: 0 20px 60px rgba(0, 230, 118, 0.25), 0 0 15px rgba(0, 230, 118, 0.5); 
    
    margin: 0 auto; 
    overflow: hidden; /* Залишаємо hidden для десктопної Product Modal */
    
    transform: scale(0.7) translateY(50px);
    opacity: 0;
    transition: transform 0.4s cubic-bezier(0.25, 0.8, 0.25, 1), opacity 0.4s ease-out;
}
.modal:not(.hidden) .modal-card {
    transform: scale(1) translateY(0);
    opacity: 1;
}
.modal-close { 
    position: absolute; 
    top: 15px; 
    right: 15px; 
    background: var(--bg);
    color: var(--accent);
    border: 2px solid var(--accent);
    border-radius: 50%;
    width: 40px;
    height: 40px;
    font-size: 20px;
    cursor: pointer; 
    z-index: 202; 
    transition: color 0.2s, transform 0.3s, background 0.2s;
}
.modal-close:hover {
    color: #000;
    background: var(--accent);
    transform: rotate(90deg);
}

/* СТИЛІ КОНТЕНТУ ВСЕРЕДИНІ МОДАЛУ */
.modal-content {
    display: grid; 
    grid-template-columns: 1.2fr 1fr; 
    gap: 30px;
    padding: 30px;
    overflow: visible; 
}
.modal-img-wrap {
    position: relative;
    height: 450px; 
    border-radius: 12px;
    overflow: hidden;
    background: #000;
}
.modal-img-wrap img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}
.product-details {
    display: flex;
    flex-direction: column;
}
.product-details h3 {
    font-size: 2rem;
    font-weight: 800;
    color: var(--text);
    margin-bottom: 10px;
}
.modal-card .product-details .type-badge {
    display: inline-block !important; 
    width: fit-content !important; 
    max-width: 90% !important; 

    background-color: var(--accent) !important; 
    color: var(--bg) !important;
    padding: 5px 12px !important;
    border-radius: 20px !important;
    font-size: 14px !important;
    font-weight: 600 !important;
    margin-bottom: 20px !important;
    text-transform: uppercase !important;
    align-self: flex-start !important; 
}

.product-details .desc {
    color: #ccc;
    line-height: 1.6;
    margin-bottom: 25px;
    padding-bottom: 25px;
    border-bottom: 1px solid var(--border);
}

.specs-list {
    margin-bottom: 30px;
}
.specs-list h4 {
    font-size: 1.3rem;
    color: var(--accent);
    margin-bottom: 15px;
    text-shadow: 0 0 5px rgba(0, 230, 118, 0.3);
}
.specs-list ul {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 15px 20px;
}
.specs-list li {
    font-size: 15px;
    color: var(--muted);
    border-bottom: 1px dashed rgba(255, 255, 255, 0.05);
    padding-bottom: 5px;
}
.specs-list li strong {
    color: var(--text);
    font-weight: 600;
}
.specs-list li::before {
    content: "•";
    color: var(--accent);
    display: inline-block;
    width: 1em;
    margin-left: -1em;
}

/* --- ФУТЕР МОДАЛУ --- */
.modal-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px 30px;
    background-color: #1a1a1a; 
    border-top: 1px solid var(--border);
    flex-shrink: 0; 
}
.modal-footer .price {
    font-size: 2.5rem;
    font-weight: 900;
    color: var(--accent);
    text-shadow: 0 0 15px rgba(0, 230, 118, 0.7);
}
.modal-footer .btn-primary {
    padding: 16px 32px;
    font-size: 16px; 
    font-weight: 700;
}

/* --- АВТОРИЗАЦІЯ та ВІДГУКИ (Малі вікна) --- */

/* Стилі для AUTH MODAL та REVIEW MODAL (Малі та компактні, Неон) */
.auth-card,
.review-card-small {
    max-width: 450px !important;
    padding: 0 !important;
    background: #151515 !important;
    border: 2px solid var(--accent-hover) !important;
    box-shadow: 0 0 40px rgba(0, 230, 118, 0.5) !important;
}

/* Кнопка закриття для малих модалок */
.auth-card .modal-close,
.review-card-small .modal-close {
    color: var(--accent);
    border: 2px solid var(--accent);
    background: var(--bg);
}

/* Стилі вкладок авторизації */
.auth-tabs { 
    display: flex; 
    justify-content: flex-start; 
    gap: 40px; 
    margin-bottom: 10px; 
    border-bottom: 1px solid var(--border); 
}
.auth-tabs .tab-btn {
    font-size: 18px; 
    font-weight: 600; 
    padding-bottom: 10px;
    background: none;
    border: none;
    color: var(--muted);
    cursor: pointer;
    position: relative;
    transition: color 0.3s;
}
.auth-tabs .tab-btn.active {
    color: var(--text);
}
.auth-tabs .tab-btn.active::after { 
    content: ''; 
    position: absolute; 
    bottom: 0; 
    left: 0; 
    width: 100%; 
    height: 3px; 
    background: var(--accent); 
    box-shadow: 0 0 8px var(--accent);
}
.auth-form {
    display: none;
    flex-direction: column;
    gap: 10px;
}
.auth-form.active {
    display: flex;
}

/* СТИЛІ ПОЛІВ ФОРМ У МАЛИХ МОДАЛКАХ */
.auth-card .form-group input, 
.review-card-small .form-group input, 
.review-card-small .form-group textarea,
/* ДОДАНО: Стилізація самого елемента SELECT */
.review-card-small .form-group select {
    width: 100%;
    background: #111; 
    border: 1px solid #333; /* Трохи м'якший бордер */
    padding: 15px; 
    border-radius: 8px;
    color: #fff;
    outline: none;
    transition: all 0.2s;
    
    /* Додаємо стилі для SELECT, щоб він виглядав як input */
    appearance: none; 
    -webkit-appearance: none; 
    -moz-appearance: none; 
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23FFD700'%3E%3Cpath d='M7 10l5 5 5-5z'/%3E%3C/svg%3E"); /* Жовта стрілка */
    background-repeat: no-repeat; 
    background-position: right 15px center; 
    background-size: 24px;
}
/* ДОДАНО: Стилі при фокусі */
.review-card-small .form-group select:focus {
    border-color: var(--accent);
    box-shadow: 0 0 10px rgba(0, 230, 118, 0.2);
}

.auth-card .form-group input:focus, 
.review-card-small .form-group input:focus,
.review-card-small .form-group textarea:focus {
    border-color: var(--accent);
    box-shadow: 0 0 10px rgba(0, 230, 118, 0.2);
}

/* Стилі для селекту оцінки (зірочки) - ТЕПЕР ТІЛЬКИ ДЛЯ ОПЦІЙ */
.review-card-small .form-group select {
    /* Видалено зайві стилі, які перешкоджали вигляду input */
    color: #FFD700; /* Колір тексту в самому полі (зірочок) */
    font-size: 16px; 
    font-family: 'Inter', sans-serif;
}
.review-card-small .form-group select option {
    background: #111;
    color: #ccc;
}


/* --- АДМІН-ПАНЕЛЬ ТА КАБІНЕТ КОРИСТУВАЧА --- */
.admin-card {
    max-width: 1000px !important;
    width: 95%;
    background: #111 !important;
    border: 2px solid var(--accent-hover) !important;
    box-shadow: 0 0 40px rgba(0, 230, 118, 0.5) !important;
    border-radius: 20px !important;
    padding: 0 !important;
    overflow: hidden;
    height: 650px;
}
.admin-layout { display: flex; height: 100%; }
.admin-sidebar { width: 240px; background: #0a0a0a; border-right: 1px solid #222; display: flex; flex-direction: column; padding: 25px; flex-shrink: 0; }
.admin-content { flex: 1; padding: 40px; overflow-y: auto; background: #111; }
.sidebar-header { margin-bottom: 30px; padding-bottom: 20px; border-bottom: 1px solid #222; }
.sidebar-header h3 { font-size: 20px; font-weight: 800; }
.sidebar-header p { font-size: 12px; color: var(--muted); }

.sidebar-nav { flex-grow: 1; }
.nav-btn { 
    width: 100%; 
    text-align: left; 
    background: none; 
    border: none; 
    color: #ccc; 
    padding: 12px 0; 
    font-size: 14px; 
    cursor: pointer; 
    transition: 0.2s; 
    display: flex;
    align-items: center;
    gap: 10px;
    font-weight: 600;
}
.nav-btn:hover { color: var(--accent); }
.nav-btn.active { color: var(--text); background: rgba(0, 230, 118, 0.05); border-radius: 5px; padding-left: 10px; border-left: 3px solid var(--accent); }

.sidebar-footer { padding-top: 20px; border-top: 1px solid #222; }
.btn-logout { 
    background: #a30000; 
    border: none; 
    color: #fff; 
    cursor: pointer; 
    font-size: 14px; 
    font-weight: 600; 
    padding: 10px 15px;
    border-radius: 6px;
    transition: 0.2s;
}
.btn-logout:hover { background: #CC0000; }

/* Admin Content Styles */
.admin-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; border-bottom: 1px solid rgba(255, 255, 255, 0.05); padding-bottom: 20px; }
.header-left { display: flex; align-items: center; gap: 20px; } 
.admin-header h2 { font-size: 22px; font-weight: 700; margin: 0; }
.admin-user { font-size: 14px; color: var(--muted); }
.admin-user span { color: var(--accent); font-weight: 600; }
/* Виправлено: Кнопка очищення (Оновлено під btn-danger) */
.header-left .btn-danger {
    padding: 8px 16px;
    font-size: 12px;
    border-radius: 6px;
}

/* Admin Stats */
.admin-stats { display: flex; gap: 20px; margin-bottom: 30px; }
.stat-box { 
    background: #1a1a1a; 
    padding: 20px; 
    border-radius: 10px; 
    flex: 1; 
    border: 1px solid #222;
}
.stat-box h3 { font-size: 14px; color: var(--muted); margin-bottom: 5px; }
.stat-box span { font-size: 32px; font-weight: 800; color: #fff; display: block; }
.stat-box:nth-child(2) span { color: var(--color-new-holland); } 

/* Admin Table */
.table-wrap { overflow-x: auto; }
.admin-table { width: 100%; border-collapse: collapse; font-size: 14px; }
.admin-table thead tr { background: #1a1a1a; color: var(--accent); }
.admin-table th, .admin-table td { padding: 15px; text-align: left; border-bottom: 1px solid #222; }
.admin-table tbody tr:hover { background: rgba(0, 230, 118, 0.03); }
.status-badge { background: var(--accent); color: #000; padding: 4px 8px; border-radius: 4px; font-size: 12px; font-weight: 600; }

/* Admin Chat (Без змін) */
.chat-layout { display: flex; height: 500px; border: 1px solid #222; border-radius: 10px; overflow: hidden; }
.chat-users { width: 250px; background: #1a1a1a; overflow-y: auto; border-right: 1px solid #222; }
.user-item { padding: 15px; border-bottom: 1px solid #222; cursor: pointer; transition: 0.2s; }
.user-item:hover { background: #222; }
.user-item.active { background: rgba(0, 230, 118, 0.1); border-left: 3px solid var(--accent); padding-left: 12px; }
.user-item h4 { font-size: 14px; margin-bottom: 3px; }
.user-item p { font-size: 11px; color: var(--muted); overflow: hidden; white-space: nowrap; text-overflow: ellipsis; }

.chat-window { flex: 1; display: flex; flex-direction: column; background: #111; }
.chat-header-info { padding: 15px; border-bottom: 1px solid #222; font-weight: 600; color: var(--muted); }
.chat-messages { flex-grow: 1; padding: 15px; overflow-y: auto; display: flex; flex-direction: column; gap: 10px; }
.msg { max-width: 80%; padding: 10px; border-radius: 10px; font-size: 14px; line-height: 1.4; }
.msg.user { background: #333; align-self: flex-start; }
.msg.admin { background: var(--accent); color: #000; align-self: flex-end; }

.chat-input-area { display: flex; padding: 10px; border-top: 1px solid #222; }
.chat-input-area input { flex-grow: 1; background: #1a1a1a; border: none; padding: 10px 15px; border-radius: 5px; color: #fff; margin-right: 10px; }
.btn-send { background: var(--accent); color: #000; border: none; width: 40px; height: 40px; border-radius: 5px; cursor: pointer; font-size: 16px; transition: 0.2s; }
.btn-send:disabled { opacity: 0.5; cursor: not-allowed; }

.admin-tab:not(.active), .user-tab:not(.active) { display: none; }


/* Responsive (Адаптовано для мобільного скролу та дизайну адмінки) */
@media (max-width: 850px) {
    .header-inner { 
        flex-direction: column; 
        gap: 15px; 
    }
    .stats-grid, .reviews-grid, .contact-wrapper, .footer-grid { 
        grid-template-columns: 1fr; 
    }
    .reviews-head-wrapper {
        flex-direction: column;
        align-items: flex-start;
    }
    .title { 
        font-size: 36px; 
    }
    .nav { 
        display: none; 
    } 

    /* МОДАЛЬНЕ ВІКНО НА МОБІЛЬНИХ (ФІКС СКРОЛУ) */
    .modal-card {
        max-width: 90%;
        max-height: auto; 
        margin: 0 auto; 
        overflow: hidden; 
    }
    .modal-content {
        grid-template-columns: 1fr; 
        padding: 20px;
        gap: 20px;
        overflow: visible; 
    }
    .modal-img-wrap {
        height: 250px; 
    }
    .modal-footer {
        flex-direction: column;
        gap: 15px;
        padding: 15px 20px;
        flex-shrink: 0; 
    }
    .modal-footer .price {
        font-size: 2rem;
    }
    
    /* Кнопки на мобільному на повну ширину */
    .modal-footer .btn-primary,
    .product-details .btn-ghost.full-width-btn {
        width: 100%;
        font-size: 1rem;
        padding: 14px 20px;
    }

    /* ***** ФІКС: Контакти (Зелений блок зверху, чорний знизу) ***** */
    .contact-wrapper {
        flex-direction: column-reverse; /* Форма (form) йде вниз, інфо (contact-info) йде нагору */
    }
    .contact-info {
        padding: 30px; 
        flex: unset; /* Знімаємо flex: 1 для мобільного, щоб уникнути конфліктів */
    }
    .contact-form {
        padding: 30px;
        flex: unset; /* Знімаємо flex: 1.5 для мобільного */
    }
    /* ************************************************************ */

    /* ***** АДМІНКА/КАБІНЕТ НА МОБІЛЬНОМУ (КРИТИЧНІ ФІКСИ СКРОЛУ) ***** */
    .admin-card {
        height: auto; /* Дозволяємо вікну розтягуватися по висоті контенту */
        max-height: none !important; /* КРИТИЧНО: Знімаємо обмеження max-height */
        overflow: visible !important; /* КРИТИЧНО: Дозволяємо контенту виходити, щоб скролив батьківський .modal */
    }
    .admin-layout { 
        flex-direction: column; 
        height: auto; 
        overflow: visible; 
    }
    .admin-sidebar { 
        width: 100%; 
        height: auto; 
        border-right: none; 
        border-bottom: 1px solid #222; 
        padding: 15px; 
        display: block; 
    }
    .admin-sidebar .sidebar-nav { 
        display: flex; 
        flex-direction: row; 
        flex-wrap: wrap; 
        gap: 10px; 
    }
    .admin-sidebar .nav-btn { 
        padding: 8px 10px; 
    }
    .admin-sidebar .sidebar-footer { 
        display: flex; 
        justify-content: flex-end; 
        padding-top: 10px; 
    }
    .admin-content { 
        padding: 20px; 
        overflow-y: visible; 
    }
    
    /* СТИЛІ HEADER АДМІН-КОНТЕНТУ (Фікс червоної кнопки) */
    .admin-header {
        flex-direction: column; 
        align-items: flex-start;
        gap: 10px;
    }
    .header-left {
        flex-direction: column;
        align-items: flex-start;
        gap: 10px;
        width: 100%; 
    }
    .header-left h2 {
        margin-bottom: 0;
    }
    .header-left .btn-danger {
        padding: 10px 16px; 
        font-size: 14px; 
        width: 100%; 
        margin-top: 5px; 
        text-align: center;
    }
    .admin-user {
        align-self: flex-end; 
        margin-top: 10px;
    }
    
    /* Admin Stats на мобільному */
    .admin-stats {
        flex-direction: column;
        gap: 10px;
    }

    .chat-layout { 
        flex-direction: column; 
        height: auto; 
    }
    .chat-users { 
        max-height: 150px; 
    }
    .chat-messages {
        height: 300px; 
    }
}

/* Mobile-Specific Filter Styles */
@media (max-width: 600px) {
    .filter-wrapper {
        padding: 20px; 
        gap: 15px; 
        justify-content: flex-start; 
    }
    .filter-group {
        width: 100%; 
    }
    .filter-group label {
        display: block; 
        margin-bottom: 5px;
    }
    .filter-group select {
        width: 100%;
        min-width: auto;
    }
}
